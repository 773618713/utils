package com.scy.utils.http;

import java.io.*;
import java.net.HttpURLConnection;
import java.util.HashMap;
import java.util.Map;

/**
 * http的使用案例
 *
 */
public class HttpTest {
	public static void main(String[] args) {
		try {
			//fileUploadTest();
			//requestTest();
			requestTest2();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	/**
	 * 文件上传的案例
	 * @throws Exception 
	 * 
	 */
	private static void fileUploadTest() throws Exception {
		HttpUtils httpUtils = new HttpUtils();

		//参数
		Map<String, String> params = new HashMap<String, String>();
		params.put("EXAMPAPERNAME", "2019年4月七年级数学（测试）");
		params.put("EXAMPAPERID", "7b160016b771407fa82bcd74203bea04");
		params.put("PAGENO", "2");

		//文件
		String fileName = "C:\\Users\\sun\\Desktop\\九年级测试答题卡\\9c7e56424baa4ad6a6cb4000efb29c8a_2.jpeg";
		FormFile fromFile = new FormFile("9c7e56424baa4ad6a6cb4000efb29c8a_2.jpeg", new File(fileName), "upfile", null);

		String url = "http://localhost/utils/json/FileUpload";
		//String url = "http://localhost/utils/json/fun";
		//String url = "http://localhost/utils/UploadServlet";
		//String url = "http://dev.score1.sjedu.cn/score/json/FileUpload_insert_addExamPaperPic.json";
		httpUtils.uploadFile(url, params, fromFile);
	}

	/**
	 * 请求响应案例
	 * @throws Exception
	 */
	private static void requestTest() throws Exception {
		HttpUtils httpUtils = new HttpUtils();

		//参数列表
		Map<String, String> params = new HashMap<String, String>();
		params.put("name", "张三");
		String url = "http://localhost/utils/json/fun";

		//发起请求
		HttpURLConnection conn = (HttpURLConnection) httpUtils.sendPostRequest(url, params, null);

		//int code = conn.getResponseCode();
		InputStream in = conn.getInputStream();
		System.out.print(httpUtils.read2String(in));
	}


	private static void requestTest2() throws Exception {
		HttpUtils httpUtils = new HttpUtils();

		//参数列表
		Map<String, String> params = new HashMap<String, String>();
		params.put("type", "image/png");
		params.put("filename", "chart");
		params.put("svg", "<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" class=\"highcharts-root\" style=\"font-family:Dosis, sans-serif;font-size:12px;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"600\" height=\"400\" viewBox=\"0 0 600 400\"><desc>Created with Highcharts 6.0.7</desc><defs><clipPath id=\"highcharts-johho29-63\"><rect x=\"0\" y=\"0\" width=\"491\" height=\"375\" fill=\"none\"></rect></clipPath><clipPath id=\"highcharts-johho29-65\"><circle cx=\"245.5\" cy=\"187.5\" r=\"150\"></circle></clipPath><clipPath id=\"highcharts-johho29-67\"><circle cx=\"245.5\" cy=\"187.5\" r=\"150\"></circle></clipPath></defs><rect fill=\"none\" class=\"highcharts-background\" x=\"0\" y=\"0\" width=\"600\" height=\"400\" rx=\"0\" ry=\"0\"></rect><rect fill=\"none\" class=\"highcharts-plot-background\" x=\"10\" y=\"10\" width=\"491\" height=\"375\"></rect><g class=\"highcharts-pane-group\"></g><g class=\"highcharts-grid highcharts-xaxis-grid \"><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 255.5 47.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 351.9181414529809 82.5933335321533\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 403.22116295183116 171.45277334996044\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 385.4038105676658 272.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 306.80302149885034 338.45389311788625\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 204.1969785011497 338.45389311788625\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 125.59618943233423 272.50000000000006\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 107.77883704816878 171.4527733499605\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 159.08185854701907 82.59333353215331\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 255.49999999999997 47.5\" opacity=\"1\"></path></g><g class=\"highcharts-grid highcharts-yaxis-grid \"><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 182.5 L 255.5 182.5 L 245.8581858547019 186.00933335321534 L 240.7278837048169 194.89527733499605 L 242.50961894323342 205 L 250.36969785011496 211.59538931178864 L 260.63030214988504 211.59538931178864 L 268.4903810567666 205 L 270.27211629518314 194.89527733499605 L 265.1418141452981 186.00933335321534 L 255.5 182.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 167.5 L 255.5 167.5 L 236.2163717094038 174.51866670643068 L 225.95576740963375 192.2905546699921 L 229.51923788646684 212.5 L 245.23939570022995 225.69077862357724 L 265.7606042997701 225.69077862357724 L 281.48076211353316 212.5 L 285.0442325903662 192.29055466999208 L 274.7836282905962 174.51866670643065 L 255.5 167.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 152.5 L 255.5 152.5 L 226.57455756410573 163.028000059646 L 211.18365111445064 189.68583200498816 L 216.52885682970026 220 L 240.1090935503449 239.78616793536588 L 270.8909064496551 239.78616793536588 L 294.47114317029974 220 L 299.81634888554936 189.68583200498813 L 284.4254424358943 163.028000059646 L 255.5 152.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 137.5 L 255.5 137.5 L 216.93274341880763 151.53733341286133 L 196.4115348192675 187.0811093399842 L 203.53847577293368 227.50000000000003 L 234.97879140045987 253.8815572471545 L 276.02120859954016 253.8815572471545 L 307.4615242270663 227.5 L 314.5884651807325 187.08110933998418 L 294.06725658119234 151.53733341286133 L 255.5 137.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 122.5 L 255.5 122.5 L 207.29092927350953 140.04666676607667 L 181.6394185240844 184.47638667498023 L 190.5480947161671 235.00000000000003 L 229.84848925057486 267.97694655894315 L 281.15151074942514 267.97694655894315 L 320.4519052838329 235 L 329.3605814759156 184.47638667498023 L 303.70907072649044 140.04666676607664 L 255.5 122.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 107.5 L 255.49999999999997 107.5 L 197.64911512821146 128.55600011929198 L 166.86730222890128 181.87166400997629 L 177.55771365940052 242.50000000000003 L 224.71818710068982 282.07233587073176 L 286.2818128993102 282.07233587073176 L 333.4422863405995 242.5 L 344.1326977710987 181.87166400997626 L 313.35088487178854 128.55600011929198 L 255.5 107.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 92.5 L 255.49999999999997 92.5 L 188.00730098291336 117.06533347250732 L 152.09518593371814 179.26694134497234 L 164.56733260263394 250.00000000000003 L 219.58788495080478 296.16772518252037 L 291.4121150491952 296.16772518252037 L 346.43266739736606 250 L 358.90481406628186 179.2669413449723 L 322.99269901708664 117.0653334725073 L 255.5 92.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 77.5 L 255.49999999999997 77.5 L 178.36548683761526 105.57466682572266 L 137.32306963853503 176.6622186799684 L 151.5769515458674 257.50000000000006 L 214.45758280091974 310.263114494309 L 296.54241719908026 310.263114494309 L 359.42304845413264 257.5 L 373.676930361465 176.66221867996836 L 332.63451316238474 105.57466682572264 L 255.5 77.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 62.5 L 255.49999999999997 62.5 L 168.72367269231717 94.08400017893798 L 122.55095334335189 174.05749601496444 L 138.5865704891008 265.00000000000006 L 209.32728065103473 324.35850380609764 L 301.6727193489653 324.3585038060976 L 372.4134295108992 265 L 388.4490466566481 174.05749601496439 L 342.27632730768283 94.08400017893797 L 255.5 62.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#f2f2f2\" stroke-width=\"1\" class=\"highcharts-minor-grid-line\" d=\"M 255.5 47.5 L 255.49999999999997 47.5 L 159.08185854701907 82.59333353215331 L 107.77883704816878 171.4527733499605 L 125.59618943233423 272.50000000000006 L 204.1969785011497 338.45389311788625 L 306.80302149885034 338.45389311788625 L 385.4038105676658 272.5 L 403.22116295183116 171.45277334996044 L 351.9181414529809 82.5933335321533 L 255.5 47.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5 L 255.5 197.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 122.5 L 255.5 122.5 L 207.29092927350953 140.04666676607667 L 181.6394185240844 184.47638667498023 L 190.5480947161671 235.00000000000003 L 229.84848925057486 267.97694655894315 L 281.15151074942514 267.97694655894315 L 320.4519052838329 235 L 329.3605814759156 184.47638667498023 L 303.70907072649044 140.04666676607664 L 255.5 122.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 255.5 47.5 L 255.49999999999997 47.5 L 159.08185854701907 82.59333353215331 L 107.77883704816878 171.4527733499605 L 125.59618943233423 272.50000000000006 L 204.1969785011497 338.45389311788625 L 306.80302149885034 338.45389311788625 L 385.4038105676658 272.5 L 403.22116295183116 171.45277334996044 L 351.9181414529809 82.5933335321533 L 255.5 47.5\" opacity=\"1\"></path></g><rect fill=\"none\" class=\"highcharts-plot-border\" x=\"10\" y=\"10\" width=\"491\" height=\"375\"></rect><g class=\"highcharts-axis highcharts-xaxis \"><path fill=\"none\" class=\"highcharts-axis-line\" d=\"M 255.5 47.5 A 150 150 0 1 1 255.35000002499993 47.50007499999376 M 255.5 197.5 A 0 0 0 1 0 255.5 197.5 \"></path></g><g class=\"highcharts-axis highcharts-yaxis \"><path fill=\"none\" class=\"highcharts-axis-line\" d=\"M 255.5 197.5 L 255.5 47.5\"></path></g><g class=\"highcharts-series-group\"><g class=\"highcharts-series highcharts-series-0 highcharts-line-series highcharts-color-0 \" transform=\"translate(10,10) scale(1 1)\" clip-path=\"url(#highcharts-johho29-65)\"><path fill=\"none\" d=\"M 245.5 81.67500000000001 L 315.64419790704346 103.9054001446414 L 359.91004070619397 167.32642295954852 L 346.045549379373 245.55000000000047 L 286.9271898603247 301.320268692692 L 199.1220685650341 314.9223193785673 L 138.78401961866197 249.112499999999 L 144.45872454094706 169.6836969713752 L 177.33237399274617 106.2609868072293 L 245.5 81.67500000000001\" class=\"highcharts-graph\" stroke=\"#7cb5ec\" stroke-width=\"2\" stroke-linejoin=\"round\" stroke-linecap=\"round\"></path></g><g class=\"highcharts-markers highcharts-series-0 highcharts-line-series highcharts-color-0 \" transform=\"translate(10,10) scale(1 1)\" clip-path=\"none\"><path fill=\"#7cb5ec\" d=\"M 249 82 A 4 4 0 1 1 248.99999800000018 81.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 319 104 A 4 4 0 1 1 318.9999980000002 103.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 363 167 A 4 4 0 1 1 362.9999980000002 166.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 350 246 A 4 4 0 1 1 349.9999980000002 245.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 290 301 A 4 4 0 1 1 289.9999980000002 300.99600000066664 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 203 315 A 4 4 0 1 1 202.99999800000018 314.99600000066664 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 142 249 A 4 4 0 1 1 141.99999800000018 248.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 148 170 A 4 4 0 1 1 147.99999800000018 169.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path><path fill=\"#7cb5ec\" d=\"M 181 106 A 4 4 0 1 1 180.99999800000018 105.99600000066667 Z\" class=\"highcharts-point highcharts-color-0\"></path></g><g class=\"highcharts-series highcharts-series-1 highcharts-line-series highcharts-color-1 \" transform=\"translate(10,10) scale(1 1)\" clip-path=\"url(#highcharts-johho29-67)\"><path fill=\"none\" d=\"M 245.5 68.85 L 321.76674988930773 96.60882682393313 L 362.34743989489925 166.89664371982298 L 348.25391415902334 246.8250000000005 L 286.0806900055936 298.99452945624694 L 204.91930999440484 298.99452945624637 L 142.7460858409758 246.82499999999902 L 128.65256010510103 166.89664371982136 L 169.2332501106962 96.60882682392982 L 245.5 68.85\" class=\"highcharts-graph\" stroke=\"#f7a35c\" stroke-width=\"2\" stroke-linejoin=\"round\" stroke-linecap=\"round\"></path></g><g class=\"highcharts-markers highcharts-series-1 highcharts-line-series highcharts-color-1 \" transform=\"translate(10,10) scale(1 1)\" clip-path=\"none\"><path fill=\"#f7a35c\" d=\"M 245 65 L 249 69 245 73 241 69 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 321 93 L 325 97 321 101 317 97 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 362 163 L 366 167 362 171 358 167 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 348 243 L 352 247 348 251 344 247 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 286 295 L 290 299 286 303 282 299 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 204 295 L 208 299 204 303 200 299 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 142 243 L 146 247 142 251 138 247 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 128 163 L 132 167 128 171 124 167 Z\" class=\"highcharts-point highcharts-color-1\"></path><path fill=\"#f7a35c\" d=\"M 169 93 L 173 97 169 101 165 97 Z\" class=\"highcharts-point highcharts-color-1\"></path></g></g><text x=\"220\" text-anchor=\"middle\" class=\"highcharts-title\" style=\"color:#333333;font-size:16px;font-weight:bold;text-transform:uppercase;fill:#333333;\" y=\"22\"></text><text x=\"300\" text-anchor=\"middle\" class=\"highcharts-subtitle\" style=\"color:#666666;fill:#666666;\" y=\"24\"></text><g class=\"highcharts-legend\" transform=\"translate(513,80)\"><rect fill=\"none\" class=\"highcharts-legend-box\" rx=\"0\" ry=\"0\" x=\"0\" y=\"0\" width=\"76\" height=\"45\" visibility=\"visible\"></rect><g><g><g class=\"highcharts-legend-item highcharts-line-series highcharts-color-0 highcharts-series-0\" transform=\"translate(8,3)\"><path fill=\"none\" d=\"M 0 12 L 16 12\" class=\"highcharts-graph\" stroke=\"#7cb5ec\" stroke-width=\"2\"></path><path fill=\"#7cb5ec\" d=\"M 12 12 A 4 4 0 1 1 11.999998000000167 11.996000000666664 Z\" class=\"highcharts-point\"></path><text x=\"21\" style=\"color:#333333;font-size:13px;font-weight:bold;cursor:pointer;fill:#333333;\" text-anchor=\"start\" y=\"16\"><tspan>均分</tspan></text></g><g class=\"highcharts-legend-item highcharts-line-series highcharts-color-1 highcharts-series-1\" transform=\"translate(8,20)\"><path fill=\"none\" d=\"M 0 12 L 16 12\" class=\"highcharts-graph\" stroke=\"#f7a35c\" stroke-width=\"2\"></path><path fill=\"#f7a35c\" d=\"M 8 8 L 12 12 8 16 4 12 Z\" class=\"highcharts-point\"></path><text x=\"21\" y=\"16\" style=\"color:#333333;font-size:13px;font-weight:bold;cursor:pointer;fill:#333333;\" text-anchor=\"start\"><tspan>区均分</tspan></text></g></g></g></g><g class=\"highcharts-axis-labels highcharts-xaxis-labels \"><text x=\"255.5\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"middle\" y=\"36.8984375\" opacity=\"1\">松江四中</text><text x=\"361.559955598279\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"start\" y=\"75.50110438536863\" opacity=\"1\">立达中学</text><text x=\"417.99327924701436\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"start\" y=\"173.2464881849565\" opacity=\"1\">九峰实验学校</text><text x=\"398.3941916244324\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"start\" y=\"284.3984375\" opacity=\"1\">华实高中</text><text x=\"311.9333236487354\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"middle\" y=\"356.94771992967486\" opacity=\"1\">上师大附外中</text><text x=\"199.06667635126468\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"middle\" y=\"356.9477199296749\" opacity=\"1\">松江二中</text><text x=\"112.60580837556765\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"end\" y=\"284.39843750000006\" opacity=\"1\">松江一中</text><text x=\"93.00672075298567\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"end\" y=\"173.24648818495655\" opacity=\"1\">上外西外学校</text><text x=\"149.44004440172097\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"end\" y=\"75.50110438536865\" opacity=\"1\"><tspan>松江一中（新疆班）</tspan></text><text x=\"0\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" transform=\"translate(0,0)\" text-anchor=\"middle\" y=\"-9999\">9</text></g><g class=\"highcharts-axis-labels highcharts-yaxis-labels \"><text x=\"252.5\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"195.5\" opacity=\"1\">0</text><text x=\"252.5\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"120.5\" opacity=\"1\">10</text><text x=\"0\" style=\"color:#666666;cursor:default;font-size:12px;fill:#666666;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"-9999\">20</text></g></svg>");

		String url = "https://export.highcharts.com/";

		//发起请求
		HttpURLConnection conn = (HttpURLConnection) httpUtils.sendPostRequest(url, params, null);

		//int code = conn.getResponseCode();
		InputStream is = conn.getInputStream();


		BufferedInputStream in = new BufferedInputStream(is);
		BufferedOutputStream out=new BufferedOutputStream(new FileOutputStream("C:\\Users\\sun\\Desktop\\123pic.png"));
		int len=-1;
		byte[] b=new byte[1024];
		while((len=in.read(b))!=-1){
			out.write(b,0,len);
		}
		in.close();
		out.close();

		//System.out.print(httpUtils.read2String(in));
	}
	
}
